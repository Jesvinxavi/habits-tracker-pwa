import{h as e,k as t,t as s,l as a}from"./chunk-1sPJXvOa.js";import{g as r}from"./chunk-D8P7fKnl.js";import{k as n}from"./chunk-CM0JCX04.js";import{s as i}from"./chunk-97VqPUVn.js";import"./chunk-Dwp9fxXX.js";function l(l={}){const c=document.createElement("div");return c.className="flex items-center justify-between px-4 py-1 rest-toggle-row",c.innerHTML='\n    <div id="activities-label" class="bg-blue-50 dark:bg-gray-800 text-gray-900 dark:text-white px-6 py-1.5 rounded-full text-xl font-bold flex items-center justify-center gap-2">\n      <span class="material-icons text-xl">fitness_center</span>\n      Activities\n    </div>\n    <button id="rest-toggle" class="relative flex items-center justify-center h-9 bg-gray-200 text-gray-500 rounded-full overflow-hidden select-none transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-ios-orange focus:ring-offset-2 dark:focus:ring-offset-gray-900" style="width: 36px;" aria-label="Toggle rest day for selected date" aria-pressed="false">\n      <span class="bed material-icons absolute left-2 top-1/2 -translate-y-1/2 transition-transform text-2xl" aria-hidden="true">bed</span>\n      <span class="label whitespace-nowrap ml-1 text-sm font-medium opacity-0 transition-opacity">Rest Day</span>\n    </button>\n  ',function(l,c){const d=l.querySelector("#rest-toggle");if(!d)return;d.addEventListener("click",()=>{const d=r().fitnessSelectedDate||(new Date).toISOString(),f=n(d);if(t(f).length>0)return void i({title:"Activities Already Recorded",message:"You need to delete all activities for this day before it can be a rest day.",okText:"OK",cancelText:"",onOK:()=>{}});s(f),o(l);const g=document.querySelector('#fitness-view hh-calendar[state-key="fitnessSelectedDate"]');g?.refresh?.(),a(),c&&c(e(f))})}(c,l.onToggle),o(c),c}function o(t){let s;if(s=t?t.querySelector("#rest-toggle"):document.getElementById("rest-toggle"),!s)return;const a=r().fitnessSelectedDate||(new Date).toISOString(),i=n(a),l=e(i);s.classList.toggle("bg-ios-orange",l),s.classList.toggle("bg-gray-200",!l),s.classList.toggle("text-white",l),s.classList.toggle("text-gray-500",!l),s.setAttribute("aria-pressed",l.toString());const o=s.querySelector(".bed"),c=s.querySelector(".label");o&&(l?(o.style.left="8px",o.style.transform="translateY(-50%)"):(o.style.left="50%",o.style.transform="translate(-50%, -50%)")),c&&(l?(c.classList.add("opacity-100"),s.classList.add("pl-9","pr-4"),s.classList.remove("justify-center"),s.style.width="110px"):(c.classList.remove("opacity-100"),s.classList.remove("pl-9","pr-4"),s.classList.add("justify-center"),s.style.width="36px"))}export{l as mountRestToggle,o as updateRestToggle};
