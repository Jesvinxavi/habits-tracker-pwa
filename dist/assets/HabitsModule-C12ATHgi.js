const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HabitReorderModal-CY7_ABCN.js","assets/vendor-DbHZnqlu.js","assets/index-CWk_d2Bu.js","assets/index-COOhAAvL.css","assets/categories-DPpWsi8d.js"])))=>i.map(i=>d[i]);
import{_ as i}from"./vendor-DbHZnqlu.js";import{r as h,m as u,e as p,h as y,s as g}from"./index-CWk_d2Bu.js";let s="";function b(t={}){const e=document.createElement("div");return e.className="search-container mb-3 px-4",e.innerHTML=`
    <div class="search-input relative border-2 border-gray-300 dark:border-gray-500 rounded-xl bg-gray-100 dark:bg-gray-700 transition-all duration-300 ease-out shadow-sm hover:shadow-md hover:-translate-y-0.5 focus-within:shadow-lg focus-within:-translate-y-1 focus-within:border-blue-500 dark:focus-within:border-blue-400 hover:border-gray-400 dark:hover:border-gray-400">
      <svg class="w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <input id="activity-search" placeholder="Search activities..." class="w-full pl-10 pr-4 py-3 bg-transparent text-gray-700 dark:text-gray-300 rounded-xl border-none outline-none focus:ring-0 transition-colors cursor-pointer placeholder-gray-500 dark:placeholder-gray-400" autocomplete="off" spellcheck="false">
    </div>
  `,e}function d(t){if(s=t.toLowerCase(),!s){document.querySelectorAll(".habit-item").forEach(e=>{e.style.display="";const r=e.closest(".habit-row");r&&(r.style.display="")}),document.querySelectorAll(".category-section").forEach(e=>{e.style.display=""}),document.querySelectorAll(".habit-name").forEach(e=>{e.dataset.originalName&&(e.textContent=e.dataset.originalName)});return}document.querySelectorAll(".habit-item").forEach(e=>{const r=e.querySelector(".habit-name");if(!r)return;r.dataset.originalName||(r.dataset.originalName=r.textContent);const o=r.dataset.originalName;if(o.toLowerCase().includes(s)){e.style.display="";const a=e.closest(".habit-row");a&&(a.style.display="");const c=new RegExp(`(${s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi");r.innerHTML=o.replace(c,"<mark>$1</mark>")}else{e.style.display="none";const a=e.closest(".habit-row");a&&(a.style.display="none"),r.textContent=o}}),document.querySelectorAll(".category-section").forEach(e=>{const r=e.querySelector('.habit-item:not([style*="display: none"])');e.style.display=r?"":"none"})}function w(t){d(t.target.value.trim())}function m(){const t=document.getElementById("habits-view")||document,e=t.querySelector(".search-container input");if(!e)return;let r=t.querySelector(".search-container .clear-search");if(!r){r=document.createElement("button"),r.type="button",r.className="clear-search absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hidden",r.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M6 18L18 6M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';const n=t.querySelector(".search-input");n&&n.appendChild(r)}function o(){e.value.length?r.classList.remove("hidden"):r.classList.add("hidden")}r.addEventListener("click",()=>{e.value="",o(),d(""),e.blur()}),o(),e.addEventListener("input",w),e.addEventListener("input",o)}const l={mount(t,e={}){if(!t)return null;t.innerHTML="";const r=u({title:"Habits",extraButtons:[{id:"reorder",text:"Reorder",icon:'<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>'}],callbacks:{onReorder:e.onReorder}});t.appendChild(r);const o=p({type:"habits",callbacks:{onNewCategory:e.onNewCategory,onNewHabit:e.onNewHabit}});t.appendChild(o);const n=b({onSearch:e.onSearch});t.appendChild(n),m();const a=y(e.onHabitClick);return t.appendChild(a),t},renderHabits(t){h(t)},updateReorderButton(){},setupResponsiveBehavior(){typeof window<"u"&&(window.addEventListener("resize",()=>{}),window.addEventListener("orientationchange",()=>{setTimeout(()=>{},500)}))}},f={async init(){const t=document.getElementById("habits-view");if(!t){console.error("Habits view container not found");return}l.mount(t,{onReorder:()=>i(()=>import("./HabitReorderModal-CY7_ABCN.js"),__vite__mapDeps([0,1,2,3])).then(e=>e.toggleReorderMode()),onNewCategory:this._handleNewCategory,onNewHabit:this._handleNewHabit,onSearch:this._handleSearch,onHabitClick:this._handleHabitClick}),g(()=>{this._handleStateChange()}),l.setupResponsiveBehavior(),i(()=>import("./HabitReorderModal-CY7_ABCN.js"),__vite__mapDeps([0,1,2,3])).then(e=>e.initializeReorder()),this._handleStateChange()},_handleNewCategory(){i(()=>import("./categories-DPpWsi8d.js"),__vite__mapDeps([4,1,2,3])).then(t=>{t.initializeCategories(),t.openAddCategoryModal()})},_handleNewHabit(){i(()=>import("./index-CWk_d2Bu.js").then(t=>t.T),__vite__mapDeps([2,1,3])).then(t=>t.openAddHabitModal())},_handleSearch(){},_handleHabitClick(){},_handleStateChange(){l.renderHabits(this._handleHabitClick)}};async function C(){await f.init()}export{f as HabitsModule,C as init};
