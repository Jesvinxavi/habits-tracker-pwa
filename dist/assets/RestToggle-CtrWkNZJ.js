import{g as n,F as c,c as d,G as f,E as u,H as y,I as p}from"./index-CWk_d2Bu.js";import"./vendor-DbHZnqlu.js";function v(i={}){const e=document.createElement("div");return e.className="flex items-center justify-between px-4 py-1 rest-toggle-row",e.innerHTML=`
    <div id="activities-label" class="bg-blue-50 dark:bg-gray-800 text-gray-900 dark:text-white px-6 py-1.5 rounded-full text-xl font-bold flex items-center justify-center gap-2">
      <span class="material-icons text-xl">fitness_center</span>
      Activities
    </div>
    <button id="rest-toggle" class="relative flex items-center justify-center h-9 bg-gray-200 text-gray-500 rounded-full overflow-hidden select-none transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-ios-orange focus:ring-offset-2 dark:focus:ring-offset-gray-900" style="width: 36px;" aria-label="Toggle rest day for selected date" aria-pressed="false">
      <span class="bed material-icons absolute left-2 top-1/2 -translate-y-1/2 transition-transform text-2xl" aria-hidden="true">bed</span>
      <span class="label whitespace-nowrap ml-1 text-sm font-medium opacity-0 transition-opacity">Rest Day</span>
    </button>
  `,m(e,i.onToggle),g(e),e}function m(i,e){const r=i.querySelector("#rest-toggle");r&&r.addEventListener("click",()=>{var l;const o=n().fitnessSelectedDate||new Date().toISOString(),t=c(o);if(f(t).length>0){u({title:"Activities Already Recorded",message:"You need to delete all activities for this day before it can be a rest day.",okText:"OK",cancelText:"",onOK:()=>{}});return}y(t),g(i);const s=document.querySelector('#fitness-view hh-calendar[state-key="fitnessSelectedDate"]');(l=s==null?void 0:s.refresh)==null||l.call(s),p(),e&&e(d(t))})}function g(i){let e;if(i?e=i.querySelector("#rest-toggle"):e=document.getElementById("rest-toggle"),!e)return;const r=n().fitnessSelectedDate||new Date().toISOString(),o=c(r),t=d(o);e.classList.toggle("bg-ios-orange",t),e.classList.toggle("bg-gray-200",!t),e.classList.toggle("text-white",t),e.classList.toggle("text-gray-500",!t),e.setAttribute("aria-pressed",t.toString());const a=e.querySelector(".bed"),s=e.querySelector(".label");a&&(t?(a.style.left="8px",a.style.transform="translateY(-50%)"):(a.style.left="50%",a.style.transform="translate(-50%, -50%)")),s&&(t?(s.classList.add("opacity-100"),e.classList.add("pl-9","pr-4"),e.classList.remove("justify-center"),e.style.width="110px"):(s.classList.remove("opacity-100"),e.classList.remove("pl-9","pr-4"),e.classList.add("justify-center"),e.style.width="36px"))}export{v as mountRestToggle,g as updateRestToggle};
