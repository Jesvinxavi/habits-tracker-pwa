const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/categories-IETYsjd2.js","assets/chunk-DKk19pOv.js","assets/chunk-Crpe9ixu.js","assets/chunk-D7AUNH-1.js","assets/chunk-T8n2V78z.js","assets/chunk-DxYHFs0w.js"])))=>i.map(i=>d[i]);
import{m as e,a as t}from"./chunk-DKk19pOv.js";import{d as a,g as r,a as n,w as i,b as o,i as s,c as l,D as d,e as c,M as u,f as y}from"./chunk-D7AUNH-1.js";const g={},p=function(e,t,a){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/habits-tracker-pwa/"+e}(e))in g)return;g[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,a&&n.setAttribute("nonce",a),document.head.appendChild(n),t?new Promise((t,a)=>{n.addEventListener("load",t),n.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})};function h(){return r(new Date)}const E={categories:[],habits:[],currentDate:h(),selectedDate:h(),fitnessSelectedDate:h(),selectedGroup:"daily",holidayDates:[],holidayPeriods:[],settings:{darkMode:!1,hideCompleted:!1,hideSkipped:!1,holidayMode:!1},foodLog:[],stats:{},activities:[],activityCategories:[{id:"cardio",name:"Cardio",color:"#EF4444",icon:"ðŸƒâ€â™‚ï¸"},{id:"strength",name:"Strength Training",color:"#2563EB",icon:"ðŸ’ª"},{id:"stretching",name:"Stretching",color:"#22C55E",icon:"ðŸ§˜â€â™€ï¸"},{id:"sports",name:"Sports",color:"#F97316",icon:"âš½"},{id:"other",name:"Other",color:"#EAB308",icon:"ðŸŽ¯"}],recordedActivities:{},restDays:{}},f=a(E);function m(){return a(f)}"undefined"!=typeof window&&(window.appData=f);const b=new Set;function v(e){return b.add(e),()=>b.delete(e)}function D(){b.forEach(e=>e(f))}const T={ADD_HABIT:"ADD_HABIT",UPDATE_HABIT:"UPDATE_HABIT",DELETE_HABIT:"DELETE_HABIT",TOGGLE_HABIT_COMPLETED:"TOGGLE_HABIT_COMPLETED",SET_HABIT_PROGRESS:"SET_HABIT_PROGRESS",SKIP_HABIT:"SKIP_HABIT",REORDER_HABITS:"REORDER_HABITS",REORDER_CATEGORIES:"REORDER_CATEGORIES",ADD_CATEGORY:"ADD_CATEGORY",UPDATE_CATEGORY:"UPDATE_CATEGORY",DELETE_CATEGORY:"DELETE_CATEGORY",SET_SELECTED_DATE:"SET_SELECTED_DATE",SET_SELECTED_GROUP:"SET_SELECTED_GROUP",SET_FITNESS_SELECTED_DATE:"SET_FITNESS_SELECTED_DATE",ADD_HOLIDAY_PERIOD:"ADD_HOLIDAY_PERIOD",DELETE_HOLIDAY_PERIOD:"DELETE_HOLIDAY_PERIOD",DELETE_ALL_HOLIDAY_PERIODS:"DELETE_ALL_HOLIDAY_PERIODS",TOGGLE_SINGLE_HOLIDAY:"TOGGLE_SINGLE_HOLIDAY",SET_HOLIDAY_DATES:"SET_HOLIDAY_DATES",UPDATE_HOLIDAY_PERIOD:"UPDATE_HOLIDAY_PERIOD",ADD_ACTIVITY:"ADD_ACTIVITY",UPDATE_ACTIVITY:"UPDATE_ACTIVITY",DELETE_ACTIVITY:"DELETE_ACTIVITY",RECORD_ACTIVITY:"RECORD_ACTIVITY",UPDATE_ACTIVITY_CATEGORY_COLOR:"UPDATE_ACTIVITY_CATEGORY_COLOR",UPDATE_SETTINGS:"UPDATE_SETTINGS",SET_DARK_MODE:"SET_DARK_MODE",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",TOGGLE_COMPLETED:"TOGGLE_COMPLETED",TOGGLE_SKIPPED:"TOGGLE_SKIPPED",RESET_STATE:"RESET_STATE",IMPORT_DATA:"IMPORT_DATA"},_={addHabit:e=>({type:T.ADD_HABIT,payload:e}),updateHabit:(e,t)=>({type:T.UPDATE_HABIT,payload:{habitId:e,updates:t}}),deleteHabit:e=>({type:T.DELETE_HABIT,payload:e}),toggleHabitCompleted:(e,t)=>({type:T.TOGGLE_HABIT_COMPLETED,payload:{habitId:e,date:t}}),setHabitProgress:(e,t,a)=>({type:T.SET_HABIT_PROGRESS,payload:{habitId:e,date:t,progress:a}}),skipHabit:(e,t)=>({type:T.SKIP_HABIT,payload:{habitId:e,date:t}}),reorderHabits:e=>({type:T.REORDER_HABITS,payload:e}),reorderCategories:e=>({type:T.REORDER_CATEGORIES,payload:e}),addCategory:e=>({type:T.ADD_CATEGORY,payload:e}),updateCategory:(e,t)=>({type:T.UPDATE_CATEGORY,payload:{categoryId:e,updates:t}}),deleteCategory:e=>({type:T.DELETE_CATEGORY,payload:e}),setSelectedDate:e=>({type:T.SET_SELECTED_DATE,payload:e}),setSelectedGroup:e=>({type:T.SET_SELECTED_GROUP,payload:e}),setFitnessSelectedDate:e=>({type:T.SET_FITNESS_SELECTED_DATE,payload:e}),addHolidayPeriod:e=>({type:T.ADD_HOLIDAY_PERIOD,payload:e}),deleteHolidayPeriod:e=>({type:T.DELETE_HOLIDAY_PERIOD,payload:e}),deleteAllHolidayPeriods:()=>({type:T.DELETE_ALL_HOLIDAY_PERIODS}),updateHolidayPeriod:e=>({type:T.UPDATE_HOLIDAY_PERIOD,payload:e}),toggleSingleHoliday:e=>({type:T.TOGGLE_SINGLE_HOLIDAY,payload:e}),setHolidayDates:e=>({type:T.SET_HOLIDAY_DATES,payload:e}),addActivity:e=>({type:T.ADD_ACTIVITY,payload:e}),updateActivity:(e,t)=>({type:T.UPDATE_ACTIVITY,payload:{activityId:e,updates:t}}),deleteActivity:e=>({type:T.DELETE_ACTIVITY,payload:e}),recordActivity:(e,t,a)=>({type:T.RECORD_ACTIVITY,payload:{activityId:e,date:t,data:a}}),updateActivityCategoryColor:(e,t)=>({type:T.UPDATE_ACTIVITY_CATEGORY_COLOR,payload:{categoryId:e,newColor:t}}),updateSettings:e=>({type:T.UPDATE_SETTINGS,payload:e}),setDarkMode:e=>({type:T.SET_DARK_MODE,payload:e}),toggleDarkMode:()=>({type:T.TOGGLE_DARK_MODE}),toggleCompleted:()=>({type:T.TOGGLE_COMPLETED}),toggleSkipped:()=>({type:T.TOGGLE_SKIPPED}),resetState:()=>({type:T.RESET_STATE}),importData:e=>({type:T.IMPORT_DATA,payload:e})};function A(e){if("function"==typeof e)return e(A,()=>f);const t=a(f);try{const a=x(t,e);Object.assign(f,a),D()}catch(r){console.error("Error dispatching action:",e,r),Object.assign(f,t)}}function x(e,t){switch(t.type){case T.ADD_HABIT:const r=t.payload;return S(r),{...e,habits:[...e.habits,r]};case T.UPDATE_HABIT:return{...e,habits:e.habits.map(e=>e.id===t.payload.habitId?{...e,...t.payload.updates}:e)};case T.DELETE_HABIT:return{...e,habits:e.habits.filter(e=>e.id!==t.payload)};case T.SET_HABIT_PROGRESS:return{...e,habits:e.habits.map(e=>e.id===t.payload.habitId?{...e,progress:{...e.progress,[t.payload.date]:t.payload.progress}}:e)};case T.TOGGLE_HABIT_COMPLETED:return{...e,habits:e.habits.map(e=>{if(e.id!==t.payload.habitId)return e;const a=t.payload.date,r="object"==typeof e.completed&&null!==e.completed?{...e.completed}:{},n=!0===r[a];return r[a]=!n,{...e,completed:r}})};case T.SKIP_HABIT:return{...e,habits:e.habits.map(e=>{if(e.id!==t.payload.habitId)return e;const a=t.payload.date,r=e.skippedDates||[],n=r.includes(a);return{...e,skippedDates:n?r.filter(e=>e!==a):[...r,a]}})};case T.REORDER_HABITS:return{...e,habits:t.payload.map(t=>e.habits.find(e=>e.id===t)).filter(Boolean)};case T.REORDER_CATEGORIES:return{...e,categories:t.payload.map(t=>e.categories.find(e=>e.id===t)).filter(Boolean)};case T.ADD_CATEGORY:return{...e,categories:[...e.categories,t.payload]};case T.UPDATE_CATEGORY:return{...e,categories:e.categories.map(e=>e.id===t.payload.categoryId?{...e,...t.payload.updates}:e)};case T.DELETE_CATEGORY:return{...e,categories:e.categories.filter(e=>e.id!==t.payload),habits:e.habits.filter(e=>e.categoryId!==t.payload)};case T.SET_SELECTED_DATE:return{...e,selectedDate:t.payload};case T.SET_SELECTED_GROUP:return{...e,selectedGroup:t.payload};case T.SET_FITNESS_SELECTED_DATE:return{...e,fitnessSelectedDate:t.payload};case T.SET_HOLIDAY_DATES:return{...e,holidayDates:[...t.payload]};case T.ADD_HOLIDAY_PERIOD:return{...e,holidayPeriods:[...e.holidayPeriods,t.payload]};case T.DELETE_HOLIDAY_PERIOD:return{...e,holidayPeriods:e.holidayPeriods.filter(e=>e.id!==t.payload)};case T.DELETE_ALL_HOLIDAY_PERIODS:return{...e,holidayPeriods:[]};case T.UPDATE_HOLIDAY_PERIOD:return{...e,holidayPeriods:e.holidayPeriods.map(e=>e.id===t.payload.id?{...e,...t.payload}:e)};case T.TOGGLE_SINGLE_HOLIDAY:const i=t.payload,o=e.holidayDates||[],s=o.includes(i);return{...e,holidayDates:s?o.filter(e=>e!==i):[...o,i]};case T.ADD_ACTIVITY:return{...e,activities:[...e.activities,t.payload]};case T.UPDATE_ACTIVITY:const{activityId:l,updates:d}=t.payload,c=e.activities.map(e=>e.id===l?{...e,...d,updatedAt:(new Date).toISOString()}:e);if(!d||!d.name&&!d.categoryId)return{...e,activities:c};const u=Object.entries(e.recordedActivities).reduce((e,[t,a])=>(a.some(e=>e.activityId===l)?e[t]=a.map(e=>e.activityId===l?{...e,activityName:void 0!==d.name?d.name:e.activityName,categoryId:void 0!==d.categoryId?d.categoryId:e.categoryId}:e):e[t]=a,e),{});return{...e,activities:c,recordedActivities:u};case T.DELETE_ACTIVITY:const y=t.payload,g={...e.recordedActivities};return Object.keys(g).forEach(e=>{g[e]=g[e].filter(e=>e.activityId!==y),0===g[e].length&&delete g[e]}),{...e,activities:e.activities.filter(e=>e.id!==y),recordedActivities:g};case T.RECORD_ACTIVITY:const{activityId:p,date:h,data:f}=t.payload,m=h.slice(0,10),b=e.activities.find(e=>e.id===p);if(!b)return e;const v={id:n(),activityId:p,activityName:b.name,categoryId:b.categoryId,date:m,timestamp:(new Date).toISOString(),duration:f.duration||null,intensity:f.intensity||null,notes:f.notes||"",...f},D=e.recordedActivities||{},_=D[m]||[];return{...e,recordedActivities:{...D,[m]:[..._,v]}};case T.UPDATE_ACTIVITY_CATEGORY_COLOR:return{...e,activityCategories:e.activityCategories.map(e=>e.id===t.payload.categoryId?{...e,color:t.payload.newColor}:e)};case T.UPDATE_SETTINGS:return{...e,settings:{...e.settings,...t.payload}};case T.SET_DARK_MODE:return{...e,settings:{...e.settings,darkMode:t.payload}};case T.TOGGLE_DARK_MODE:return{...e,settings:{...e.settings,darkMode:!e.settings.darkMode}};case T.TOGGLE_COMPLETED:return{...e,settings:{...e.settings,hideCompleted:!e.settings.hideCompleted}};case T.TOGGLE_SKIPPED:return{...e,settings:{...e.settings,hideSkipped:!e.settings.hideSkipped}};case T.IMPORT_DATA:return{...e,...t.payload};case T.RESET_STATE:return a(E);default:return e}}const k={getHabits:(e=f)=>e.habits,getHabitById:(e=f,t)=>e.habits.find(e=>e.id===t),getCategories:(e=f)=>e.categories,getSelectedDate:(e=f)=>e.selectedDate,getSelectedGroup:(e=f)=>e.selectedGroup,getSettings:(e=f)=>e.settings,isDarkMode:(e=f)=>e.settings.darkMode};function S(e){e&&("object"==typeof e.progress&&null!==e.progress||(e.progress={}),Array.isArray(e.skippedDates)||(e.skippedDates=[]))}function I(e=f){Array.isArray(e.holidayDates)||(e.holidayDates=[]),Array.isArray(e.holidayPeriods)||(e.holidayPeriods=[])}f.habits.forEach(S),I(f);const w=Object.freeze(Object.defineProperty({__proto__:null,ActionTypes:T,Actions:_,Selectors:k,dispatch:A,ensureHabitIntegrity:S,ensureHolidayIntegrity:I,getState:m,initialState:E,listeners:b,notify:D,reducer:x,subscribe:v},Symbol.toStringTag,{value:"Module"}));function C(e){if(e.anchorDate){const t=new Date(e.anchorDate);if(!isNaN(t))return t}if(e.createdAt){const t=new Date(e.createdAt);if(!isNaN(t))return t}return new Date(0)}const L={first:1,second:2,third:3,fourth:4,fifth:5};function O(e,t){if(!0===e.paused)return!1;const a=new Date(t);if(isNaN(a))return!1;const r=e.targetFrequency||e.frequency||"daily",n="string"==typeof r?r.toLowerCase():r;if("number"==typeof e.target&&e.target>0){if("biweekly"===n){const t=C(e);return i(t,a)%2==0}if("daily"===n){const t=o(a);if(s(t)&&!e.activeOnHolidays)return!1}return!0}const l=a.getDay(),d=o(a);if(s(d)&&("daily"===n||"weekly"===n)&&!e.activeOnHolidays)return!1;if("daily"===n||!n)return!0;if("weekly"===n)return!(Array.isArray(e.days)&&e.days.length>0)||e.days.includes(l);if("biweekly"===n){if(Array.isArray(e.days)&&e.days.length>0&&!e.days.includes(l))return!1;const t=C(e),r=i(t,a);if(r%2!=0)return!1;if(0===r){const e=t.getDay();if(l<e)return!1}return!0}if("monthly"===n){const t=e.monthly||{},r=Math.max(1,parseInt(t.interval||1,10)),n=C(e);if((12*(a.getFullYear()-n.getFullYear())+(a.getMonth()-n.getMonth()))%r!==0)return!1;if(!t.mode||"each"===t.mode){const e=Array.isArray(t.dates)&&t.dates.length>0?t.dates:null;return!e||e.includes(a.getDate())}if("on"===t.mode){const e=Array.isArray(t.combinations)?t.combinations:[];return 0===e.length||e.some(e=>{const[t,r]=e.split("-");if(!t||!r)return!1;const n={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[r.toLowerCase()];return void 0!==n&&n===l&&function(e,t){if("last"===t){const t=new Date(e);return t.setDate(e.getDate()+7),t.getMonth()!==e.getMonth()}const a=L[t];return!!a&&Math.floor((e.getDate()-1)/7)+1===a}(a,t.toLowerCase())})}return!0}if("yearly"===n){const t=Array.isArray(e.months)&&e.months.length>0?e.months:null,r=Math.max(1,parseInt(e.yearInterval||1,10)),n=C(e);return(a.getFullYear()-n.getFullYear())%r===0&&(!(t&&!t.includes(a.getMonth()))&&!(Array.isArray(e.yearlyDates)&&e.yearlyDates.length>0&&!e.yearlyDates.includes(a.getDate())))}return!0}class R{static isDue(e,t){return O(e,t)}}function P(e,t){return R.isDue(e,t)}function H(e,t){const a="number"==typeof e.target&&e.target>0,r=e.targetFrequency||e.frequency||"daily",n="string"==typeof r?r.toLowerCase():r,i=e.frequency||e.targetFrequency||"daily",o="string"==typeof i?i.toLowerCase():i;return"daily"===t?a?"daily"===n:["daily","weekly","biweekly","monthly"].includes(o):"weekly"===t?!!a&&("weekly"===n||"biweekly"===n):"monthly"===t?a?"monthly"===n:"yearly"===o:"yearly"===t&&(a&&"yearly"===n)}function $(e,t){const a=new Date(t),r="number"==typeof e.target&&e.target>0,n=e.targetFrequency||e.frequency||"daily";if(!r){return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}if("daily"===n){return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`}if("weekly"===n){const e=l(a);return`${a.getFullYear()}-W${e}`}if("monthly"===n)return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`;if("yearly"===n)return`${a.getFullYear()}`;if("biweekly"===n){const t=function(e){if(e.anchorDate){const t=new Date(e.anchorDate);if(!isNaN(t))return t}if(e.createdAt){const t=new Date(e.createdAt);if(!isNaN(t))return t}if("string"==typeof e.id&&/^[0-9]{13}/.test(e.id)){const t=parseInt(e.id.slice(0,13),10);if(!Number.isNaN(t))return new Date(t)}return new Date(0)}(e),r=i(t,a),n=new Date(t);n.setDate(t.getDate()+14*Math.floor(r/2));const o=l(n);return`${n.getFullYear()}-BW${o}`}return a.toISOString().slice(0,10)}function M(e,t){if(!0===e.completed)return!0;if("object"!=typeof e.completed||null===e.completed)return!1;const a=$(e,t);return!0===e.completed[a]}function G(e,t,a){const r=$(e,t);"object"==typeof e.completed&&null!==e.completed||(e.completed={}),e.completed[r]=a}function Y(e,t=new Date){const a=t instanceof Date?t:new Date(t),r=o(a);return Array.isArray(e.skippedDates)&&e.skippedDates.includes(r)}const N=Object.freeze(Object.defineProperty({__proto__:null,belongsToSelectedGroup:H,getPeriodKey:$,isHabitCompleted:M,isHabitScheduledOnDate:P,isHabitSkippedToday:Y,setHabitCompleted:G,toggleHabitCompleted:function(e,t){G(e,t,!M(e,t))}},Symbol.toStringTag,{value:"Module"}));function B(e){return e<34?getComputedStyle(document.documentElement).getPropertyValue("--danger-color").trim()||"#ff3b30":e<67?getComputedStyle(document.documentElement).getPropertyValue("--warning-color").trim()||"#ff9500":getComputedStyle(document.documentElement).getPropertyValue("--success-color").trim()||"#34c759"}function j(e){const t=document.querySelector(".progress-ring-fg"),a=document.querySelector(".progress-number");if(!t||!a)return;const r=t.r.baseVal.value,n=2*Math.PI*r,i=n-e/100*n;t.style.strokeDashoffset=i,t.style.stroke=B(e),a.textContent=`${Math.round(e)}%`}function q(e){const t=["th","st","nd","rd"],a=e%100;return e+(t[(a-20)%10]||t[a]||t[0])}function V(e,t,a){return 1===e.length?`${e[0]} ${a}`.trim():e.length>1?`${e.length} ${t} ${a}`.trim():a}function U(e){const t=d,a=c;let r="";switch(e.frequency){case"daily":r="Daily";break;case"weekly":case"biweekly":{const n=function(e=[],t){return 0===e.length?"":e.length<=3?e.join(", "):`${e.length} ${t}`}(Array.isArray(e.days)?e.days.map(e=>t[e]):[],"days");r=n?`${n} ${a(e.frequency)}`:a(e.frequency);break}case"monthly":r=function(e={}){if(!e)return"Monthly";const t=e.interval||1,a=t>1?`Every ${t} Months`:"Monthly";if("on"===e.mode){const t=Array.isArray(e.combinations)?e.combinations:[];return 0===t.length?a:V(t.map(e=>{const[t,a]=e.split("-");return`${c(t)} ${c(a)}`}),"dates",a)}return V(Array.isArray(e.dates)?e.dates.map(q):[],"dates",a)}(e.monthly);break;case"yearly":r=function({months:e=[],yearInterval:t=1}={}){const a=t>1?`Every ${t} Years`:"Yearly";return e&&0!==e.length?V(e.map(e=>u[e]),"months",a):a}({months:e.months,yearInterval:e.yearInterval});break;default:r=e.frequency}if(e.target){const t=e.targetUnit&&"none"!==e.targetUnit?e.targetUnit:"",n=a(e.targetFrequency||e.frequency);r=`${e.target} ${t} ${n}`.replace(/\s+/g," ").trim()}return e.scheduledTime&&(r+=` â€¢ ${e.scheduledTime}`),e.paused&&(r+=" â€¢ Paused"),r}function F(e="#000000",t=1){let a=e.replace("#","");3===a.length&&(a=a.split("").map(e=>e+e).join(""));const r=parseInt(a,16);return`rgba(${r>>16&255},${r>>8&255},${255&r},${t})`}function z(e,t=0,a=.07){const r=100*Math.max(0,Math.min(t,1));return`linear-gradient(to right, ${e} ${r}%, transparent ${r}% ), ${F(e,a)}`}function K(e){const t=m().habits.find(t=>t.id===e);if(!t)return null;const a=new Date,r={totalCompletions:0,currentStreak:0,longestStreak:0,completionRate7d:0,completionRate30d:0,completionRateTotal:0,recentActivity:0,lastCompleted:null,targetProgress:null,weeklyAverage:0,daysTracked:0,totalSkipped:0,skippedPercentage:0};let n;if("string"==typeof t.id&&/^[0-9]{13}/.test(t.id)){const e=parseInt(t.id.slice(0,13),10);Number.isNaN(e)||(n=new Date(e))}n&&!isNaN(n)||(n=new Date);const i=Math.max(1,Math.floor((a-n)/864e5)+1);r.daysTracked=i,r.completionRate7d=W(t,7),r.completionRate30d=W(t,30),r.completionRateTotal=W(t,i),r.currentStreak=function(e){const t=new Date;let a,r=0,n=new Date(t);if("string"==typeof e.id&&/^[0-9]{13}/.test(e.id)){const t=parseInt(e.id.slice(0,13),10);Number.isNaN(t)||(a=new Date(t))}a&&!isNaN(a)||(a=new Date);for(;n>=a;){if(P(e,n)){if(!M(e,n))break;r++}n.setDate(n.getDate()-1)}return r}(t),r.longestStreak=function(e){const t=new Date;let a,r=0,n=0,i=new Date(t);if("string"==typeof e.id&&/^[0-9]{13}/.test(e.id)){const t=parseInt(e.id.slice(0,13),10);Number.isNaN(t)||(a=new Date(t))}a&&!isNaN(a)||(a=new Date);for(;i>=a;)P(e,i)&&(M(e,i)?(n++,r=Math.max(r,n)):n=0),i.setDate(i.getDate()-1);return r}(t);let o=0;for(let c=0;c<Math.min(30,i);c++){const e=new Date(a);e.setDate(a.getDate()-c),e<n||P(t,e)&&M(t,e)&&(o++,(!r.lastCompleted||e>new Date(r.lastCompleted))&&(r.lastCompleted=e.toISOString()))}r.recentActivity=o;let s=0;for(let c=0;c<i;c++){const e=new Date(a);e.setDate(a.getDate()-c),e<n||P(t,e)&&(M(t,e)?r.totalCompletions++:Y(t,e)&&s++)}r.totalSkipped=s;const l=r.totalCompletions+r.totalSkipped;r.skippedPercentage=l>0?r.totalSkipped/l*100:0;const d=i/7;if(r.weeklyAverage=d>0?r.totalCompletions/d:0,t.target&&"number"==typeof t.target){const e=t.targetFrequency||t.frequency||"daily",n=M(t,a);"daily"===e&&(r.targetProgress={completed:n?1:0,target:t.target,unit:t.targetUnit||"",isComplete:n})}return r}function W(e,t=30){const a=new Date;let r,n=0,i=0;if("string"==typeof e.id&&/^[0-9]{13}/.test(e.id)){const t=parseInt(e.id.slice(0,13),10);Number.isNaN(t)||(r=new Date(t))}r&&!isNaN(r)||(r=new Date);const o=Math.min(t,Math.floor((a-r)/864e5)+1);for(let s=0;s<o;s++){const t=new Date(a);t.setDate(a.getDate()-s),t<r||P(e,t)&&(i++,M(e,t)&&n++)}return i>0?n/i*100:0}let X=null;function J(e){const t=m().habits.find(t=>t.id===e);if(!t)return;!function(e,t){const a=m().categories.find(t=>t.id===e.categoryId),r=function(e,t){if(!t||0===t.daysTracked)return'\n      <div class="text-center py-8">\n        <span class="material-icons text-4xl text-gray-400 mb-4">bar_chart</span>\n        <p class="text-gray-600 dark:text-gray-400">No data available yet</p>\n        <p class="text-sm text-gray-500 mt-2">Start completing this habit to see statistics</p>\n      </div>\n    ';let a=`\n    <div class="stats-grid space-y-4">\n      \x3c!-- Overview Stats --\x3e\n      <div class="stats-section">\n        <h4 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3">Overview</h4>\n        <div class="grid grid-cols-2 gap-4">\n          <div class="stat-card bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">\n            <div class="stat-value text-2xl font-bold text-gray-900 dark:text-white">${t.totalCompletions}</div>\n            <div class="stat-label text-xs text-gray-500 dark:text-gray-400">Total Completions</div>\n          </div>\n          <div class="stat-card bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">\n            <div class="stat-value text-2xl font-bold text-gray-900 dark:text-white">${t.weeklyAverage.toFixed(1)}</div>\n            <div class="stat-label text-xs text-gray-500 dark:text-gray-400">Per Week Average</div>\n          </div>\n        </div>\n      </div>\n  `;const r=[{days:7,label:"7d",rate:t.completionRate7d},{days:30,label:"30d",rate:t.completionRate30d},{days:t.daysTracked,label:"All Time",rate:t.completionRateTotal}],n=function(e){if(1===e.length){const t=e[0];return`\n      <div class="completion-rates">\n        <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">\n          <div class="text-xl font-bold text-center mb-1 text-gray-900 dark:text-white">\n            ${t.rate.toFixed(1)}%\n          </div>\n          <div class="text-center text-xs text-gray-500 dark:text-gray-400">\n            Completion Rate (${t.label})\n          </div>\n        </div>\n      </div>\n    `}const t=e.map((e,t)=>`\n    <div class="carousel-slide ${0===t?"active":""}" data-slide="${t}">\n      <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">\n        <div class="text-xl font-bold text-center mb-1 text-gray-900 dark:text-white">\n          ${e.rate.toFixed(1)}%\n        </div>\n        <div class="text-center text-xs text-gray-500 dark:text-gray-400">\n          Completion Rate (${e.label})\n        </div>\n      </div>\n    </div>\n  `).join(""),a=e.map((e,t)=>`\n    <div class="carousel-dot ${0===t?"active":""}" data-slide="${t}"></div>\n  `).join("");return`\n    <div class="completion-rates">\n      <div class="completion-carousel" id="habit-completion-carousel">\n        <div class="carousel-container">\n          <div class="carousel-track" id="habit-carousel-track">\n            ${t}\n          </div>\n        </div>\n        <div class="carousel-dots" id="habit-carousel-dots">\n          ${a}\n        </div>\n      </div>\n    </div>\n  `}(r);a+=`\n    <div class="stats-section">\n      <h4 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3">Completion Rates</h4>\n      ${n}\n      <div class="grid grid-cols-2 gap-4 mt-4">\n        <div class="stat-card bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">\n          <div class="stat-value text-xl font-bold text-gray-900 dark:text-white">${t.daysTracked}</div>\n          <div class="stat-label text-xs text-gray-500 dark:text-gray-400">Days Tracked</div>\n        </div>\n        <div class="stat-card bg-orange-50 dark:bg-orange-900 p-3 rounded-lg">\n          <div class="stat-value text-xl font-bold text-orange-600 dark:text-orange-300">${t.totalSkipped}</div>\n          <div class="stat-label text-xs text-orange-600 dark:text-orange-300">Times Skipped</div>\n          <div class="stat-sublabel text-xs text-orange-500 dark:text-orange-400 mt-1">\n            ${t.skippedPercentage.toFixed(1)}% of actions\n          </div>\n        </div>\n      </div>\n    </div>\n  `,a+=`\n    <div class="stats-section">\n      <h4 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3">Streaks</h4>\n      <div class="grid grid-cols-2 gap-4">\n        <div class="stat-card bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">\n          <div class="stat-value text-xl font-bold text-gray-900 dark:text-white">${t.currentStreak}</div>\n          <div class="stat-label text-xs text-gray-500 dark:text-gray-400">Current Streak</div>\n        </div>\n        <div class="stat-card bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">\n          <div class="stat-value text-xl font-bold text-gray-900 dark:text-white">${t.longestStreak}</div>\n          <div class="stat-label text-xs text-gray-500 dark:text-gray-400">Longest Streak</div>\n        </div>\n      </div>\n    </div>\n  `;const i=t.lastCompleted?y(t.lastCompleted):"Never";return a+=`\n    <div class="stats-section">\n      <h4 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3">Recent Activity</h4>\n      <div class="grid grid-cols-2 gap-4">\n        <div class="stat-card bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">\n          <div class="stat-value text-xl font-bold text-gray-900 dark:text-white">${t.recentActivity}</div>\n          <div class="stat-label text-xs text-gray-500 dark:text-gray-400">Last 30 Days</div>\n        </div>\n        <div class="stat-card bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">\n          <div class="stat-value text-sm font-bold text-gray-900 dark:text-white break-words">${i}</div>\n          <div class="stat-label text-xs text-gray-500 dark:text-gray-400">Last Completed</div>\n        </div>\n      </div>\n    </div>\n  `,a+="</div>",a}(0,t),n=`\n    <div id="habit-stats-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">\n      <div class="bg-white dark:bg-gray-800 rounded-xl max-w-md w-full max-h-[90vh] flex flex-col">\n        <div class="flex-shrink-0 p-6 border-b border-gray-200 dark:border-gray-700">\n          <div class="flex items-center justify-between">\n            <div class="flex items-center gap-3">\n              <div class="w-10 h-10 rounded-full flex items-center justify-center text-xl" style="background: ${a?.color||"#888"}; color: white;">\n                ${e.icon||"ðŸ“‹"}\n              </div>\n              <div>\n                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">${e.name}</h3>\n                <p class="text-sm text-gray-500 dark:text-gray-400">${a?.name||"Uncategorized"}</p>\n              </div>\n            </div>\n            <button id="close-habit-stats-modal" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1">\n              <span class="material-icons">close</span>\n            </button>\n          </div>\n        </div>\n        <div class="flex-1 overflow-y-auto p-6">\n          ${r}\n        </div>\n      </div>\n    </div>\n  `,i=document.getElementById("habit-stats-modal");i&&i.remove();document.body.insertAdjacentHTML("beforeend",n);const o=document.getElementById("habit-stats-modal"),s=document.getElementById("close-habit-stats-modal"),l=()=>{X&&(clearInterval(X),X=null),o&&(o.classList.add("hidden"),setTimeout(()=>o.remove(),300))};s&&s.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),l()});o&&o.addEventListener("click",e=>{e.target===o&&l()});o&&o.classList.remove("hidden");setTimeout(()=>{!function(e=document){const t=e.querySelector(".completion-carousel"),a=t?t.querySelector(".carousel-track"):null,r=t?t.querySelector(".carousel-dots"):null;if(!t||!a||!r)return;const n=a.querySelectorAll(".carousel-slide"),i=r.querySelectorAll(".carousel-dot");if(n.length<=1)return;let o=0,s=0,l=0;function d(e){e<0||e>=n.length||(o=e,n.forEach((e,t)=>{e.classList.toggle("active",t===o)}),i.forEach((e,t)=>{e.classList.toggle("active",t===o)}))}function c(){d((o+1)%n.length)}function u(){d((o-1+n.length)%n.length)}i.forEach((e,t)=>{e.addEventListener("click",e=>{e.stopPropagation(),d(t)})}),t.addEventListener("touchstart",e=>{s=e.touches[0].clientX}),t.addEventListener("touchend",e=>{l=e.changedTouches[0].clientX,p()});let y=!1,g=0;function p(){const e=50,t=s-l;Math.abs(t)>e&&(t>0?c():u())}t.addEventListener("mousedown",e=>{y=!0,g=e.clientX,t.style.cursor="grabbing"}),t.addEventListener("mousemove",e=>{y&&e.preventDefault()}),t.addEventListener("mouseup",e=>{if(!y)return;y=!1,t.style.cursor="grab";const a=e.clientX,r=g-a;Math.abs(r)>50&&(r>0?c():u())}),t.style.cursor="grab",X&&clearInterval(X);X=setInterval(()=>{c()},1e4),t.addEventListener("mouseenter",()=>{X&&(clearInterval(X),X=null)}),t.addEventListener("mouseleave",e=>{y&&(y=!1,t.style.cursor="grab"),X&&clearInterval(X),X=setInterval(()=>{c()},1e4)})}(o)},300)}(t,K(e))}function Q(){const e=document.getElementById("completed-section"),t=document.getElementById("skipped-section");e&&e.classList.toggle("collapsed",m().settings.hideCompleted),t&&t.classList.toggle("collapsed",m().settings.hideSkipped);const a=new Date(m().selectedDate),r=m().habits.filter(e=>H(e,m().selectedGroup)&&P(e,a)).filter(e=>!Y(e,a)),n=r.filter(e=>M(e,a));j(r.length?n.length/r.length*100:0)}function Z(e){const t=m().selectedDate.slice(0,10);A(_.toggleHabitCompleted(e,t))}function ee(e){const t=document.getElementById(`${e}-section`);if(!t)return;const a=!t.classList.toggle("collapsed");"completed"===e?A(_.toggleCompleted(a)):"skipped"===e&&A(_.toggleSkipped(a));const r=t.querySelector(".toggle-section");r&&(r.textContent=a?"Show âŒ„":"Hide âŒ„")}function te(e,t){let a="";a=t.length?t.map((a,r)=>function(e,t,a){const r=a?"rounded-b-2xl":"";function n(e){return`<span class="flex items-center gap-1 px-1.5 py-0.5 rounded-md text-black" style="background-color:${t.color}20; color:#000">${e}</span>`}const i=[];if(e.paused)i.push(n("Paused"));else{const t=U(e).split(" â€¢ ")[0];if(i.push(n(`${function(e){return e&&"number"==typeof e.target&&e.target>0?'<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n      <circle cx="12" cy="12" r="10" stroke-width="2"/>\n      <circle cx="12" cy="12" r="6" stroke-width="2"/>\n      <circle cx="12" cy="12" r="2" fill="currentColor" stroke="currentColor" stroke-width="2"/>\n    </svg>':'<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n    <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>'}(e)} ${t}`)),e.scheduledTime){const t='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';i.push(n(`${t} ${e.scheduledTime}`))}e.activeOnHolidays&&i.push(n('<span class="material-icons text-base leading-none">flight</span>'))}const o=`<div class="habit-meta flex flex-wrap gap-1 text-gray-600 dark:text-gray-400 text-xs -mt-1">${i.join("")}</div>`;return`\n    <div class="flex flex-row items-stretch habit-row w-full mb-1">\n      <div class="habit-drag-handle drag-handle hidden w-7 h-12 flex items-center justify-center cursor-grab text-gray-400 mr-1">\n        <span class="material-icons text-2xl leading-none">drag_handle</span>\n      </div>\n      <div class="habit-item flex items-center px-4 py-1.5 bg-white dark:bg-gray-800 border-[3px] rounded-xl ${r} flex-grow w-full" style="border-color: ${t.color}" data-habit-id="${e.id}">\n        <div class="habit-icon w-8 h-8 rounded-lg flex items-center justify-center mr-4 text-xl" style="background-color: ${t.color}20;">\n          ${e.icon||"ðŸ“‹"}\n        </div>\n        <div class="habit-content flex-grow">\n          <div class="habit-name text-sm font-semibold text-gray-900 dark:text-white">${e.name}</div>\n          ${o}\n        </div>\n        <div class="habit-actions flex items-center gap-2 ml-2">\n          <button class="stats-habit-btn w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-blue-600 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors" data-habit-id="${e.id}" title="View Stats">\n            <span class="material-icons text-lg">bar_chart</span>\n          </button>\n          <button class="edit-habit-btn flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center" data-habit-id="${e.id}">\n            <svg class="w-4 h-4 text-gray-600 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke="currentColor" stroke-width="2"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor" stroke-width="2"/></svg>\n          </button>\n        </div>\n      </div>\n    </div>`}(a,e,r===t.length-1)).join(""):'<div class="p-6 text-center text-gray-400 dark:text-gray-500">No habits yet</div>';const r=`<button class="edit-category-btn w-8 h-8 rounded-full flex items-center justify-center" data-category-id="${e.id}" style="background-color:${e.color}">\n      <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n        <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke="currentColor" stroke-width="2"/>\n        <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor" stroke-width="2"/>\n      </svg>\n    </button>`;return`<div class="category-section mb-4" data-category-id="${e.id}">\n      <div class="flex items-center gap-2">\n        <div class="category-drag-handle drag-handle hidden w-7 h-12 flex items-center justify-center cursor-grab text-gray-400">\n          <span class="material-icons text-2xl leading-none">drag_handle</span>\n        </div>\n        <div class="category-header flex items-center justify-between px-4 py-0 rounded-t-2xl cursor-pointer select-none flex-grow" style="background:${F(e.color,.25)};">\n          <div class="category-title flex items-center gap-3">\n            <span class="font-semibold text-lg leading-none text-black py-1.5">${e.name}</span>\n          </div>\n          <button class="expand-btn h-5 w-5 flex items-center justify-center text-black">\n      <span class="material-icons transition-transform leading-none">expand_more</span>\n    </button>\n        </div>\n        ${r}\n      </div>\n      <div class="category-habits pl-6">${a}</div>\n    </div>`}function ae(e){const t=document.createElement("div");return t.id="habits-list-container",t.className="habits-list flex-grow overflow-y-auto px-4 pb-8",t._onHabitClick=e,t}function re(e){const t=document.getElementById("habits-list-container");if(!t)return;t._onHabitClick=e,t.innerHTML="";const a=new Map;if(m().categories.forEach(e=>a.set(e.id,[])),m().habits.forEach(e=>{a.has(e.categoryId)&&a.get(e.categoryId).push(e)}),m().categories.forEach(e=>{const r=te(e,a.get(e.id));t.insertAdjacentHTML("beforeend",r)}),0===m().categories.length){const e='\n      <div class="w-full flex flex-col items-center justify-center py-12 mt-6 text-center space-y-2" id="no-category-cta">\n        <span class="material-icons text-5xl text-gray-400">create_new_folder</span>\n        <h2 class="text-lg font-semibold text-gray-900 dark:text-white">No categories yet</h2>\n        <p class="text-sm text-gray-600 dark:text-gray-400 max-w-xs mx-auto">Start by creating a category to organise your habits.</p>\n        <button class="create-first-category-btn bg-ios-orange text-white px-4 py-3 rounded-xl font-medium hover:bg-orange-600 transition-colors">Create Your First Category</button>\n      </div>';t.insertAdjacentHTML("beforeend",e),t.querySelector(".create-first-category-btn")?.addEventListener("click",()=>{p(()=>import("./categories-IETYsjd2.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>{e.initializeCategories(),e.openAddCategoryModal()})})}function r(e){if(!e)return;const t=e.querySelector(".category-habits");if(!t)return;const a=t.classList.toggle("hidden"),r=e.querySelector(".expand-btn .material-icons");r&&r.classList.toggle("rotate-180",a)}t.querySelectorAll(".habit-item").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.habitId;t&&Z(t)})}),t.querySelectorAll(".edit-habit-btn").forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();const a=e.dataset.habitId;a&&p(()=>import("./chunk-DxYHFs0w.js").then(e=>e.H),__vite__mapDeps([5,1,2,3,4])).then(e=>e.openEditHabitModal(a))})}),t.querySelectorAll(".stats-habit-btn").forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();const a=e.dataset.habitId;a&&J(a)})}),t.querySelectorAll(".expand-btn").forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation(),r(e.closest(".category-section"))})}),t.querySelectorAll(".category-header").forEach(e=>{e.addEventListener("click",t=>{t.target.closest(".expand-btn")||t.target.closest(".edit-category-btn")||r(e.closest(".category-section"))})}),p(()=>import("./categories-IETYsjd2.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>e.initializeCategories())}const ne=Object.freeze(Object.defineProperty({__proto__:null,initializeHabitsList:function(){Q(),re(),document.querySelectorAll(".toggle-section").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".habits-section");if(t&&t.id){ee(t.id.replace("-section",""))}})})},mountHabitsList:ae,renderHabitsList:re,renderHomeView:Q,toggleHabitCompletion:Z,toggleSectionVisibility:ee},Symbol.toStringTag,{value:"Module"}));let ie="";function oe(e){if(ie=e.toLowerCase(),!ie)return document.querySelectorAll(".habit-item").forEach(e=>{e.style.display="";const t=e.closest(".habit-row");t&&(t.style.display="")}),document.querySelectorAll(".category-section").forEach(e=>{e.style.display=""}),void document.querySelectorAll(".habit-name").forEach(e=>{e.dataset.originalName&&(e.textContent=e.dataset.originalName)});document.querySelectorAll(".habit-item").forEach(e=>{const t=e.querySelector(".habit-name");if(!t)return;t.dataset.originalName||(t.dataset.originalName=t.textContent);const a=t.dataset.originalName;if(a.toLowerCase().includes(ie)){e.style.display="";const r=e.closest(".habit-row");r&&(r.style.display="");const n=new RegExp(`(${ie.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")})`,"gi");t.innerHTML=a.replace(n,"<mark>$1</mark>")}else{e.style.display="none";const r=e.closest(".habit-row");r&&(r.style.display="none"),t.textContent=a}}),document.querySelectorAll(".category-section").forEach(e=>{const t=e.querySelector('.habit-item:not([style*="display: none"])');e.style.display=t?"":"none"})}function se(e){oe(e.target.value.trim())}const le={mount(a,r={}){if(!a)return null;a.innerHTML="";const n=e({title:"Habits",extraButtons:[{id:"reorder",text:"Reorder",icon:'<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>'}],callbacks:{onReorder:r.onReorder}});a.appendChild(n);const i=t({type:"habits",callbacks:{onNewCategory:r.onNewCategory,onNewHabit:r.onNewHabit}});a.appendChild(i);const o=function(){const e=document.createElement("div");return e.className="search-container mb-3 px-4",e.innerHTML='\n    <div class="search-input relative border-2 border-gray-300 dark:border-gray-500 rounded-xl bg-gray-100 dark:bg-gray-700 transition-all duration-300 ease-out shadow-sm hover:shadow-md hover:-translate-y-0.5 focus-within:shadow-lg focus-within:-translate-y-1 focus-within:border-blue-500 dark:focus-within:border-blue-400 hover:border-gray-400 dark:hover:border-gray-400">\n      <svg class="w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n      </svg>\n      <input id="activity-search" placeholder="Search activities..." class="w-full pl-10 pr-4 py-3 bg-transparent text-gray-700 dark:text-gray-300 rounded-xl border-none outline-none focus:ring-0 transition-colors cursor-pointer placeholder-gray-500 dark:placeholder-gray-400" autocomplete="off" spellcheck="false">\n    </div>\n  ',e}({onSearch:r.onSearch});a.appendChild(o),function(){const e=document.getElementById("habits-view")||document,t=e.querySelector(".search-container input");if(!t)return;let a=e.querySelector(".search-container .clear-search");if(!a){a=document.createElement("button"),a.type="button",a.className="clear-search absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hidden",a.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M6 18L18 6M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';const t=e.querySelector(".search-input");t&&t.appendChild(a)}function r(){t.value.length?a.classList.remove("hidden"):a.classList.add("hidden")}a.addEventListener("click",()=>{t.value="",r(),oe(""),t.blur()}),r(),t.addEventListener("input",se),t.addEventListener("input",r)}();const s=ae(r.onHabitClick);return a.appendChild(s),a},renderHabits(e){re(e)},updateReorderButton(){},setupResponsiveBehavior(){"undefined"!=typeof window&&(window.addEventListener("resize",()=>{}),window.addEventListener("orientationchange",()=>{setTimeout(()=>{},500)}))}},de={async init(){const e=document.getElementById("habits-view");e?(le.mount(e,{onReorder:()=>p(()=>import("./chunk-DxYHFs0w.js").then(e=>e.a),__vite__mapDeps([5,1,2,3,4])).then(e=>e.toggleReorderMode()),onNewCategory:this._handleNewCategory,onNewHabit:this._handleNewHabit,onSearch:this._handleSearch,onHabitClick:this._handleHabitClick}),v(()=>{this._handleStateChange()}),le.setupResponsiveBehavior(),p(()=>import("./chunk-DxYHFs0w.js").then(e=>e.a),__vite__mapDeps([5,1,2,3,4])).then(e=>e.initializeReorder()),this._handleStateChange()):console.error("Habits view container not found")},_handleNewCategory(){p(()=>import("./categories-IETYsjd2.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>{e.initializeCategories(),e.openAddCategoryModal()})},_handleNewHabit(){p(()=>import("./chunk-DxYHFs0w.js").then(e=>e.H),__vite__mapDeps([5,1,2,3,4])).then(e=>e.openAddHabitModal())},_handleSearch(){},_handleHabitClick(){},_handleStateChange(){le.renderHabits(this._handleHabitClick)}};const ce=Object.freeze(Object.defineProperty({__proto__:null,HabitsModule:de,init:async function(){await de.init()}},Symbol.toStringTag,{value:"Module"}));export{_ as A,ne as H,p as _,Y as a,H as b,M as c,A as d,B as e,$ as f,m as g,F as h,P as i,N as j,w as k,ce as l,re as r,v as s,z as t,j as u};
